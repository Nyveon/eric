---
import BlogPost from "@components/BlogPost.astro";
import BaseLayout from "@layouts/BaseLayout.astro";
import type { MarkdownInstance } from "astro";
const pageTitle = "My Blog";

export interface BlogPostFrontmatter {
	title: string;
	description?: string;
	tags: string[];
}

const allPosts = Object.values(
	import.meta.glob<MarkdownInstance<BlogPostFrontmatter>>("./posts/*.md", {
		eager: true,
	})
);
---

<BaseLayout pageTitle={pageTitle}>
	<ul>
		{
			allPosts.map((post) => {
				return <BlogPost url={post.url} title={post.frontmatter.title} />;
			})
		}
	</ul>
</BaseLayout>
